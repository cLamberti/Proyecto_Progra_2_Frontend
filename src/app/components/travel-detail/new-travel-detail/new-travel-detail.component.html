<div class="container mt-4">
  <div class="card shadow rounded-4">
    <div class="card-body">
      <h2 class="card-title mb-4 text-primary">Reserva en Coco Tours</h2>

      @switch(status) {
        @case (2) {
          <div class="alert alert-danger">Error de servidor</div>
        }
      }

      <form #newDetailForm="ngForm" (ngSubmit)="onSubmit(newDetailForm)">
        <div class="row g-3">
          <div class="col-md-6">
            <label class="form-label">Fecha</label>
            <input
              type="date"
              class="form-control"
              name="fecha"
              [(ngModel)]="travelDetail.fecha"
              required
            >
          </div>

          <div class="col-md-6">
            <label class="form-label">Hora</label>
            <input
              type="time"
              class="form-control"
              name="hora"
              [(ngModel)]="travelDetail.hora"
              required
            >
          </div>

          <div class="col-md-6">
            <label class="form-label">Proveedor (opcional)</label>
            <select
              class="form-select"
              name="idproveedor"
              [(ngModel)]="travelDetail.idproveedor"
            >
              <option [ngValue]="null">-- Sin proveedor --</option>
              @for (p of providers; track p.idproveedor) {
                <option [ngValue]="p.idproveedor">{{ p.nombre }}</option>
              }
            </select>
          </div>

          <div class="col-md-6">
            <label class="form-label">Viaje</label>
            <select
              class="form-select"
              name="idviaje"
              [(ngModel)]="travelDetail.idviaje"
              required
            >
              <option *ngFor="let v of travels; trackBy: trackById" [ngValue]="v.idviaje">
                {{ v.tipoviaje }} - {{ v.descripcion }}
              </option>
            </select>
          </div>
        </div>

        <div class="text-end mt-4">
          <button type="submit" class="btn btn-primary px-4">Guardar</button>
        </div>
      </form>
    </div>
  </div>
</div>