<div class="col-md-12 mt-3">
  <h2>Crear nuevo detalle de viaje</h2>

  <span>
    @switch(status) {
      @case (0) {
        <div class="alert alert-success">Registro exitoso</div>
      }
      @case (1) {
        <div class="alert alert-warning">Registro no guardado</div>
      }
      @case (2) {
        <div class="alert alert-danger">Error de servidor</div>
      }
    }
  </span>

  <form #newDetailForm="ngForm" (ngSubmit)="onSubmit(newDetailForm)">
    <div class="form-group">
      <label>Fecha</label>
      <input type="date" class="form-control" name="fecha" [(ngModel)]="travelDetail.fecha" required>
    </div>

    <div class="form-group">
      <label>Hora</label>
      <input type="time" class="form-control" name="hora" [(ngModel)]="travelDetail.hora" required>
    </div>

    <div class="form-group">
      <label>Proveedor (opcional)</label>
      <select class="form-control" name="idproveedor" [(ngModel)]="travelDetail.idproveedor">
        <option [ngValue]="null">-- Sin proveedor --</option>
        @for (p of providers; track p.idproveedor) {
          <option [ngValue]="p.idproveedor">{{ p.nombre }}</option>
        }
      </select>
    </div>

    <!-- <div class="form-group">
      <label>Viaje</label>
      <select class="form-control" name="idViaje" [(ngModel)]="travelDetail.idViaje" required>
        @for (v of viajes; track v.idViaje) {
          <option [ngValue]="v.idViaje">{{ v.tipoViaje }}</option>
        }
      </select>
    </div> -->

    <div>
      <input type="submit" class="btn btn-primary mt-3" value="Guardar">
    </div>
  </form>
</div>